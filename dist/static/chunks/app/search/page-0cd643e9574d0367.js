(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2959],{50404:(e,t,a)=>{Promise.resolve().then(a.bind(a,56649))},51154:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},56649:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N,dynamic:()=>b});var n=a(95155),i=a(12115),r=a(35695),c=a(23227),s=a(17580),o=a(57434),l=a(381),d=a(4516),m=a(69803),u=a(34869),g=a(47924),h=a(51154),p=a(66932),x=a(94615),y=a(95060),_=a(42099);class f{static async performDeepSearch(e){let{query:t,scope:a,organizationId:n,filters:i,limit:r=50,fuzzySearch:c=!0}=e;if(!t||t.trim().length<2)return[];let s="".concat(t,"-").concat(a,"-").concat(n,"-").concat(JSON.stringify(i)),o=this.SEARCH_CACHE.get(s);if(o&&Date.now()-o.timestamp<this.CACHE_DURATION)return o.data.slice(0,r);try{let e=[this.searchSidebarItems(t,a,n),this.searchPageContents(t,a,n),this.searchOrganizations(t,a,n),this.searchContacts(t,a,n),this.searchLocations(t,a,n),this.searchDocuments(t,a,n),this.searchPasswords(t,a,n),this.searchConfigurations(t,a,n),this.searchDomains(t,a,n),this.searchAssets(t,a,n),this.searchCustomFields(t,a,n)],c=await Promise.allSettled(e),o=[];c.forEach((e,t)=>{"fulfilled"===e.status&&e.value?o=o.concat(e.value):e.status}),i&&(o=this.applyFilters(o,i)),o.sort((e,t)=>t.relevanceScore-e.relevanceScore);let l=o.slice(0,r);return this.SEARCH_CACHE.set(s,{data:l,timestamp:Date.now()}),l}catch(e){return[]}}static async searchSidebarItems(e,t,a){try{let n=_.N.from("organization_sidebar_items").select("\n          id,\n          organization_id,\n          item_name,\n          item_slug,\n          item_type,\n          icon,\n          description,\n          parent_category,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ").eq("is_active",!0);"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("item_name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%,parent_category.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(20);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.item_name,description:t.description,type:"sidebar_item",subtype:t.item_type,organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,category:t.parent_category,url:"/organizations/".concat(t.organization_id,"/").concat(t.item_slug),matchedFields:this.getMatchedFields(e,{item_name:t.item_name,description:t.description,parent_category:t.parent_category}),matchedText:this.extractMatchedText(e,t.item_name+" "+(t.description||"")),relevanceScore:this.calculateRelevanceScore(e,t.item_name,t.description),metadata:{icon:t.icon,slug:t.item_slug},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchPageContents(e,t,a){try{let i=_.N.from("page_contents").select("\n          id,\n          sidebar_item_id,\n          content_type,\n          content_data,\n          created_at,\n          updated_at,\n          organization_sidebar_items:sidebar_item_id(\n            item_name,\n            organization_id,\n            item_slug,\n            organizations:organization_id(name)\n          )\n        "),{data:r,error:c}=await i.limit(30);if(c)return[];let s=[];for(let i of r||[]){let r=i.organization_sidebar_items;if("organization"===t&&a&&(null==r?void 0:r.organization_id)!==a)continue;let c=this.extractTextFromContentData(i.content_data);if(c.toLowerCase().includes(e.toLowerCase())){var n;s.push({id:i.id,title:(null==r?void 0:r.item_name)||"Untitled Page",description:this.extractMatchedText(e,c,200),type:"page_content",subtype:i.content_type,organizationId:null==r?void 0:r.organization_id,organizationName:null==r||null==(n=r.organizations)?void 0:n.name,url:"/organizations/".concat(null==r?void 0:r.organization_id,"/").concat(null==r?void 0:r.item_slug),matchedFields:["content"],matchedText:this.extractMatchedText(e,c),relevanceScore:this.calculateRelevanceScore(e,(null==r?void 0:r.item_name)||"",c),metadata:{contentType:i.content_type,sidebarItemId:i.sidebar_item_id},createdAt:i.created_at,updatedAt:i.updated_at})}}return s}catch(e){return[]}}static async searchOrganizations(e,t,a){try{if("organization"===t)return[];let{data:a,error:n}=await _.N.from("organizations").select("*").or("name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%,website.ilike.%").concat(e,"%,email.ilike.%").concat(e,"%")).limit(10);if(n)return[];return(a||[]).map(t=>({id:t.id,title:t.name,description:t.description,type:"organization",url:"/organizations/".concat(t.id),matchedFields:this.getMatchedFields(e,{name:t.name,description:t.description,website:t.website,email:t.email}),matchedText:this.extractMatchedText(e,t.name+" "+(t.description||"")),relevanceScore:this.calculateRelevanceScore(e,t.name,t.description),metadata:{website:t.website,email:t.email,status:t.status},createdAt:t.created_at,updatedAt:t.updated_at}))}catch(e){return[]}}static extractTextFromContentData(e){if(!e)return"";try{if("string"==typeof e)return e;if("object"==typeof e){if(e.content)return this.stripHtml(e.content);if(e.contacts)return e.contacts.map(e=>"".concat(e.name||""," ").concat(e.email||""," ").concat(e.phone||""," ").concat(e.notes||"")).join(" ");if(e.locations)return e.locations.map(e=>"".concat(e.name||""," ").concat(e.address||""," ").concat(e.city||""," ").concat(e.notes||"")).join(" ");return JSON.stringify(e).toLowerCase()}return String(e)}catch(e){return""}}static stripHtml(e){return e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim()}static calculateRelevanceScore(e,t,a){let n=e.toLowerCase(),i=(t||"").toLowerCase(),r=(a||"").toLowerCase(),c=0;i===n?c+=100:i.includes(n)&&(c+=50),r.includes(n)&&(c+=25);let s=new RegExp("\\b".concat(n,"\\b"));return s.test(i)&&(c+=30),s.test(r)&&(c+=15),c}static getMatchedFields(e,t){let a=e.toLowerCase(),n=[];return Object.entries(t).forEach(e=>{let[t,i]=e;i&&i.toLowerCase().includes(a)&&n.push(t)}),n}static extractMatchedText(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;if(!t)return"";let n=e.toLowerCase(),i=t.toLowerCase().indexOf(n);if(-1===i)return t.substring(0,a)+(t.length>a?"...":"");let r=Math.max(0,i-50),c=Math.min(t.length,i+e.length+50),s=t.substring(r,c);return r>0&&(s="..."+s),c<t.length&&(s+="..."),s}static applyFilters(e,t){let a=e;if(t.contentTypes&&t.contentTypes.length>0&&(a=a.filter(e=>t.contentTypes.includes(e.type))),t.organizationIds&&t.organizationIds.length>0&&(a=a.filter(e=>e.organizationId&&t.organizationIds.includes(e.organizationId))),t.categories&&t.categories.length>0&&(a=a.filter(e=>e.category&&t.categories.includes(e.category))),t.dateRange){let e=new Date(t.dateRange.start),n=new Date(t.dateRange.end);a=a.filter(t=>{if(!t.createdAt)return!0;let a=new Date(t.createdAt);return a>=e&&a<=n})}return a}static async searchContacts(e,t,a){try{let n=_.N.from("contacts").select("\n          id,\n          organization_id,\n          first_name,\n          last_name,\n          company,\n          title,\n          email,\n          phone,\n          mobile,\n          notes,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("first_name.ilike.%".concat(e,"%,last_name.ilike.%").concat(e,"%,company.ilike.%").concat(e,"%,email.ilike.%").concat(e,"%,phone.ilike.%").concat(e,"%,notes.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(15);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:"".concat(t.first_name||""," ").concat(t.last_name||"").trim()||t.company||"Unnamed Contact",description:"".concat(t.title||""," ").concat(t.email||""," ").concat(t.phone||"").trim(),type:"contact",organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,url:"/organizations/".concat(t.organization_id,"/contacts"),matchedFields:this.getMatchedFields(e,{first_name:t.first_name,last_name:t.last_name,company:t.company,email:t.email,phone:t.phone,notes:t.notes}),matchedText:this.extractMatchedText(e,"".concat(t.first_name||""," ").concat(t.last_name||""," ").concat(t.email||""," ").concat(t.notes||"")),relevanceScore:this.calculateRelevanceScore(e,"".concat(t.first_name||""," ").concat(t.last_name||""),t.email),metadata:{email:t.email,phone:t.phone,company:t.company},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchLocations(e,t,a){try{let n=_.N.from("locations").select("\n          id,\n          organization_id,\n          name,\n          address,\n          city,\n          state,\n          country,\n          postal_code,\n          notes,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("name.ilike.%".concat(e,"%,address.ilike.%").concat(e,"%,city.ilike.%").concat(e,"%,state.ilike.%").concat(e,"%,country.ilike.%").concat(e,"%,notes.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(10);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.name||"Unnamed Location",description:"".concat(t.address||""," ").concat(t.city||""," ").concat(t.state||"").trim(),type:"location",organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,url:"/organizations/".concat(t.organization_id,"/locations"),matchedFields:this.getMatchedFields(e,{name:t.name,address:t.address,city:t.city,state:t.state,country:t.country,notes:t.notes}),matchedText:this.extractMatchedText(e,"".concat(t.name||""," ").concat(t.address||""," ").concat(t.notes||"")),relevanceScore:this.calculateRelevanceScore(e,t.name||"",t.address),metadata:{address:t.address,city:t.city,state:t.state,country:t.country},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchDocuments(e,t,a){try{let n=_.N.from("documents").select("\n          id,\n          organization_id,\n          name,\n          description,\n          category,\n          file_type,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%,category.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(10);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.name||"Untitled Document",description:t.description,type:"document",subtype:t.file_type,organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,category:t.category,url:"/organizations/".concat(t.organization_id,"/documents"),matchedFields:this.getMatchedFields(e,{name:t.name,description:t.description,category:t.category}),matchedText:this.extractMatchedText(e,"".concat(t.name||""," ").concat(t.description||"")),relevanceScore:this.calculateRelevanceScore(e,t.name||"",t.description),metadata:{fileType:t.file_type,category:t.category},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchPasswords(e,t,a){try{let n=_.N.from("passwords").select("\n          id,\n          organization_id,\n          name,\n          username,\n          url,\n          notes,\n          category,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("name.ilike.%".concat(e,"%,username.ilike.%").concat(e,"%,url.ilike.%").concat(e,"%,notes.ilike.%").concat(e,"%,category.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(10);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.name||"Untitled Password",description:"".concat(t.username||""," ").concat(t.url||"").trim(),type:"password",organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,category:t.category,url:"/organizations/".concat(t.organization_id,"/passwords"),matchedFields:this.getMatchedFields(e,{name:t.name,username:t.username,url:t.url,notes:t.notes,category:t.category}),matchedText:this.extractMatchedText(e,"".concat(t.name||""," ").concat(t.username||""," ").concat(t.notes||"")),relevanceScore:this.calculateRelevanceScore(e,t.name||"",t.username),metadata:{username:t.username,url:t.url,category:t.category},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchConfigurations(e,t,a){try{let n=_.N.from("configurations").select("\n          id,\n          organization_id,\n          name,\n          description,\n          config_type,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%,config_type.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(10);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.name||"Untitled Configuration",description:t.description,type:"configuration",subtype:t.config_type,organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,url:"/organizations/".concat(t.organization_id,"/configurations"),matchedFields:this.getMatchedFields(e,{name:t.name,description:t.description,config_type:t.config_type}),matchedText:this.extractMatchedText(e,"".concat(t.name||""," ").concat(t.description||"")),relevanceScore:this.calculateRelevanceScore(e,t.name||"",t.description),metadata:{configType:t.config_type},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchDomains(e,t,a){try{let n=_.N.from("domains").select("\n          id,\n          organization_id,\n          domain_name,\n          registrar,\n          notes,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("domain_name.ilike.%".concat(e,"%,registrar.ilike.%").concat(e,"%,notes.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(10);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.domain_name||"Untitled Domain",description:"Registrar: ".concat(t.registrar||"Unknown"),type:"domain",organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,url:"/organizations/".concat(t.organization_id,"/domains"),matchedFields:this.getMatchedFields(e,{domain_name:t.domain_name,registrar:t.registrar,notes:t.notes}),matchedText:this.extractMatchedText(e,"".concat(t.domain_name||""," ").concat(t.registrar||""," ").concat(t.notes||"")),relevanceScore:this.calculateRelevanceScore(e,t.domain_name||"",t.registrar),metadata:{registrar:t.registrar},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchAssets(e,t,a){try{let n=_.N.from("assets").select("\n          id,\n          organization_id,\n          name,\n          description,\n          asset_type,\n          manufacturer,\n          model,\n          serial_number,\n          created_at,\n          updated_at,\n          organizations:organization_id(name)\n        ");"organization"===t&&a&&(n=n.eq("organization_id",a)),n=n.or("name.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%,manufacturer.ilike.%").concat(e,"%,model.ilike.%").concat(e,"%,serial_number.ilike.%").concat(e,"%"));let{data:i,error:r}=await n.limit(10);if(r)return[];return(i||[]).map(t=>{var a;return{id:t.id,title:t.name||"Untitled Asset",description:"".concat(t.manufacturer||""," ").concat(t.model||"").trim(),type:"asset",subtype:t.asset_type,organizationId:t.organization_id,organizationName:null==(a=t.organizations)?void 0:a.name,url:"/organizations/".concat(t.organization_id,"/assets"),matchedFields:this.getMatchedFields(e,{name:t.name,description:t.description,manufacturer:t.manufacturer,model:t.model,serial_number:t.serial_number}),matchedText:this.extractMatchedText(e,"".concat(t.name||""," ").concat(t.description||""," ").concat(t.manufacturer||"")),relevanceScore:this.calculateRelevanceScore(e,t.name||"",t.description),metadata:{assetType:t.asset_type,manufacturer:t.manufacturer,model:t.model,serialNumber:t.serial_number},createdAt:t.created_at,updatedAt:t.updated_at}})}catch(e){return[]}}static async searchCustomFields(e,t,a){return[]}static clearCache(){this.SEARCH_CACHE.clear()}}f.SEARCH_CACHE=new Map,f.CACHE_DURATION=3e4;var z=a(20702);let b="force-dynamic";function v(){let e=(0,r.useSearchParams)(),t=(0,r.useRouter)(),a=(0,z.$)(),_=(0,z.C)(a.organizationId),[b,v]=(0,i.useState)(e.get("q")||""),[N,j]=(0,i.useState)([]),[w,A]=(0,i.useState)(!1),[S,C]=(0,i.useState)([]),[k,T]=(0,i.useState)("relevance"),[F,D]=(0,i.useState)(!1),[M,R]=(0,i.useState)(a.scope),[I,E]=(0,i.useState)(a.organizationId||"");(0,i.useEffect)(()=>{let t=e.get("q"),n=e.get("scope"),i=e.get("org"),r=e.get("filters"),c=n||a.scope,s=i||a.organizationId||"";if(t&&v(t),R(c),E(s),r)try{C(JSON.parse(r))}catch(e){}t&&L(t,c,s,r?JSON.parse(r):[])},[e,a]);let L=(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;if(!e.trim())return void j([]);A(!0);try{let i={query:e,scope:t,organizationId:a||void 0,filters:n.length>0?{contentTypes:n}:void 0,limit:100,fuzzySearch:!0},r=[...await f.performDeepSearch(i)].sort((e,t)=>{switch(k){case"relevance":return t.relevanceScore-e.relevanceScore;case"date":return new Date(t.updatedAt||t.createdAt||"").getTime()-new Date(e.updatedAt||e.createdAt||"").getTime();case"name":return e.title.localeCompare(t.title);default:return 0}});j(r)}catch(e){j([])}finally{A(!1)}},[M,I,S,k]);return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,n.jsx)(x.default,{currentPage:"Search Results"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(y.A,{onItemClick:e=>{e.href&&("/"===e.href?t.push("/"):t.push("/organizations/".concat(I).concat(e.href)))}}),(0,n.jsxs)("div",{className:"flex-1 p-6",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,n.jsx)("div",{className:"p-2 rounded-lg ".concat("global"===M?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"),children:"global"===M?(0,n.jsx)(u.A,{className:"w-6 h-6"}):(0,n.jsx)(c.A,{className:"w-6 h-6"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"global"===M?"Global Search Results":"Organization Search Results"}),(0,n.jsx)("p",{className:"text-gray-400",children:"global"===M?"Searching across all organizations and data":"Searching within ".concat(_||"this organization")})]})]}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault();let a=new URLSearchParams;a.set("q",b),a.set("scope",M),I&&a.set("org",I),S.length>0&&a.set("filters",JSON.stringify(S)),t.push("/search?".concat(a.toString())),L(b)},className:"mb-6",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"flex-1 relative",children:[(0,n.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,n.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"global"===M?"Search across all organizations and data...":"Search within ".concat(_||"this organization","..."),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsx)("button",{type:"submit",disabled:w,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 rounded-lg font-medium transition-colors",children:w?(0,n.jsx)(h.A,{className:"w-5 h-5 animate-spin"}):"Search"}),(0,n.jsx)("button",{type:"button",onClick:()=>D(!F),className:"px-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:(0,n.jsx)(p.A,{className:"w-5 h-5"})})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("select",{value:M,onChange:e=>R(e.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",children:[(0,n.jsx)("option",{value:"global",children:"Global Search"}),(0,n.jsx)("option",{value:"organization",children:"Organization Search"})]}),(0,n.jsxs)("select",{value:k,onChange:e=>T(e.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",children:[(0,n.jsx)("option",{value:"relevance",children:"Sort by Relevance"}),(0,n.jsx)("option",{value:"date",children:"Sort by Date"}),(0,n.jsx)("option",{value:"name",children:"Sort by Name"})]})]}),N.length>0&&(0,n.jsxs)("span",{className:"text-gray-400",children:[N.length," result",1!==N.length?"s":""," found"]})]})]}),F&&(0,n.jsxs)("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"Filter by Content Type"}),S.length>0&&(0,n.jsx)("button",{onClick:()=>{C([]),b&&L(b,M,I,[])},className:"text-blue-400 hover:text-blue-300 text-sm",children:"Clear All"})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"sidebar_item",label:"Navigation Items"},{id:"page_content",label:"Page Content"},{id:"organization",label:"Organizations"},{id:"contact",label:"Contacts"},{id:"location",label:"Locations"},{id:"document",label:"Documents"},{id:"password",label:"Passwords"},{id:"configuration",label:"Configurations"},{id:"domain",label:"Domains"},{id:"asset",label:"Assets"}].map(e=>(0,n.jsx)("button",{onClick:()=>(e=>{let t=S.includes(e)?S.filter(t=>t!==e):[...S,e];C(t),b&&L(b,M,I,t)})(e.id),className:"px-3 py-2 rounded-lg text-sm transition-colors ".concat(S.includes(e.id)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e.label},e.id))})]}),(0,n.jsx)("div",{className:"space-y-4",children:w?(0,n.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,n.jsx)(h.A,{className:"w-8 h-8 animate-spin text-blue-400"}),(0,n.jsx)("span",{className:"ml-3 text-gray-400",children:"Searching..."})]}):0===N.length&&b?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-800 rounded-full flex items-center justify-center",children:(0,n.jsx)(g.A,{className:"w-8 h-8 text-gray-400"})}),(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No results found"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Try adjusting your search terms or filters"})]}):N.map(e=>(0,n.jsx)("div",{className:"p-6 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors cursor-pointer",onClick:()=>e.url&&t.push(e.url),children:(0,n.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0 p-2 bg-gray-700 rounded-lg",children:(e=>{switch(e){case"organization":return(0,n.jsx)(c.A,{className:"w-5 h-5 text-blue-400"});case"contact":return(0,n.jsx)(s.A,{className:"w-5 h-5 text-green-400"});case"document":return(0,n.jsx)(o.A,{className:"w-5 h-5 text-purple-400"});case"configuration":return(0,n.jsx)(l.A,{className:"w-5 h-5 text-orange-400"});case"location":return(0,n.jsx)(d.A,{className:"w-5 h-5 text-red-400"});case"password":return(0,n.jsx)(m.A,{className:"w-5 h-5 text-yellow-400"});case"sidebar_item":return(0,n.jsx)(o.A,{className:"w-5 h-5 text-cyan-400"});case"page_content":return(0,n.jsx)(o.A,{className:"w-5 h-5 text-indigo-400"});case"domain":return(0,n.jsx)(u.A,{className:"w-5 h-5 text-pink-400"});case"asset":return(0,n.jsx)(l.A,{className:"w-5 h-5 text-teal-400"});default:return(0,n.jsx)(o.A,{className:"w-5 h-5 text-gray-400"})}})(e.type)}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white truncate",children:e.title}),(0,n.jsx)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 text-xs rounded-full",children:e.type.replace("_"," ")}),e.relevanceScore>70&&(0,n.jsx)("span",{className:"px-2 py-1 bg-green-600/20 text-green-300 text-xs rounded-full",children:"High Match"})]}),e.description&&(0,n.jsx)("p",{className:"text-gray-300 mb-3 line-clamp-2",children:e.description}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[e.organizationName&&(0,n.jsxs)("span",{children:["\uD83D\uDCCD ",e.organizationName]}),e.category&&(0,n.jsxs)("span",{children:["\uD83C\uDFF7ï¸ ",e.category]}),e.matchedFields&&e.matchedFields.length>0&&(0,n.jsxs)("span",{children:["\uD83C\uDFAF Matched: ",e.matchedFields.join(", ")]})]}),e.matchedText&&(0,n.jsxs)("div",{className:"mt-3 p-3 bg-gray-700/50 rounded text-sm text-gray-300 italic",children:['"',e.matchedText,'"']})]})]})},e.id))})]})]})]})}function N(){return(0,n.jsx)(i.Suspense,{fallback:(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(h.A,{className:"w-8 h-8 animate-spin text-blue-400 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Loading search..."})]})}),children:(0,n.jsx)(v,{})})}},66932:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])}},e=>{e.O(0,[5647,6441,7365,3930,8441,5964,7358],()=>e(e.s=50404)),_N_E=e.O()}]);